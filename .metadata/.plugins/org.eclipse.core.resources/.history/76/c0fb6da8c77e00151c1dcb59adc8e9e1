package com.jmigration.db.jmigration;

import com.jmigration.db.jmigration.support.DummyMigration1;

import junit.framework.Test;
import junit.framework.TestCase;
import junit.framework.TestSuite;

public class MigrationTest extends TestCase {

	public MigrationTest(String testName) {
		super(testName);
	}
	
    public static Test suite()
    {
        return new TestSuite( MigrationTest.class );
    }

    public void testUpMigration() {
    	DummyMigration1 migration = new DummyMigration1();
    	String expectedValue = "Select 'dummMigration1_up', * from VersionInfo";
    	assertEquals(expectedValue, migration.up());
    }
    
    public void testDownMigration() {
    	DummyMigration1 migration = new DummyMigration1();
    	String expectedValue = "Select 'dummMigration1_down', * from VersionInfo";
    	assertEquals(expectedValue, migration.down());
    }
    
    public void testRunUpMigration() {
    	DummyMigration1 migration = new DummyMigration1();
    	assertTrue(migration.run(true, "DummyMigration1"));
    }
	
    public void testRunDownMigration() {
    	DummyMigration1 migration = new DummyMigration1();
    	assertTrue(migration.run(false, "DummyMigration1"));
    }
	
}
